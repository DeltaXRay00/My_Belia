<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Daftar Admin Baru - MyBelia</title>
  <link href="https://fonts.googleapis.com/css?family=Inter&display=swap" rel="stylesheet">
  <link rel="stylesheet" href={~p"/assets/admin.css"} />
  <style>
    .admin-form {
      flex: 1;
      padding: 20px;
      background-color: #f8f9fa;
    }
    .form-container {
      background: white;
      margin: 20px auto;
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      max-width: 800px;
    }
    .form-header {
      background: #1e3a8a;
      color: white;
      padding: 20px 30px;
      border-radius: 8px 8px 0 0;
      text-align: center;
    }
    .form-header h1 {
      margin: 0;
      font-size: 24px;
      font-weight: 600;
    }
    .form-header p {
      margin: 5px 0 0 0;
      font-size: 14px;
      opacity: 0.9;
    }
    .form-body {
      padding: 30px;
    }
    .form-section {
      margin-bottom: 30px;
      border: 1px solid #e5e7eb;
      border-radius: 6px;
      overflow: hidden;
    }
    .section-header {
      background: #f8fafc;
      padding: 15px 20px;
      border-bottom: 1px solid #e5e7eb;
      font-weight: 600;
      font-size: 16px;
      color: #374151;
    }
    .section-content {
      padding: 20px;
    }
    .form-row {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-bottom: 20px;
    }
    .form-group {
      margin-bottom: 20px;
    }
    .form-label {
      display: block;
      font-size: 14px;
      font-weight: 500;
      color: #374151;
      margin-bottom: 8px;
    }
    .form-label.required::after {
      content: " *";
      color: #dc2626;
    }
    .form-input {
      width: 100%;
      padding: 12px 16px;
      border: 1px solid #d1d5db;
      border-radius: 4px;
      font-size: 14px;
      box-sizing: border-box;
      transition: border-color 0.3s;
    }
    .form-input:focus {
      outline: none;
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
    }
    textarea.form-input {
      resize: vertical;
      min-height: 80px;
      font-family: inherit;
    }
    .form-select {
      width: 100%;
      padding: 12px 16px;
      border: 1px solid #d1d5db;
      border-radius: 4px;
      font-size: 14px;
      background-color: white;
      box-sizing: border-box;
    }
    .form-actions {
      background: #f8fafc;
      padding: 20px 30px;
      border-top: 1px solid #e5e7eb;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .btn-primary {
      background: #2563eb;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 6px;
      font-size: 16px;
      font-weight: 500;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    .btn-primary:hover {
      background: #1d4ed8;
    }
    .btn-secondary {
      background: #6b7280;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 6px;
      font-size: 16px;
      font-weight: 500;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    .btn-secondary:hover {
      background: #4b5563;
    }
    .form-note {
      background: #fef3c7;
      border: 1px solid #f59e0b;
      border-radius: 6px;
      padding: 15px;
      margin-bottom: 20px;
      font-size: 14px;
      color: #92400e;
    }
    .form-note strong {
      display: block;
      margin-bottom: 5px;
    }
  </style>
</head>
<body>
<.admin_layout current_page="admin" page_title="Daftar Admin Baru">

    <!-- Admin Registration Form -->
    <div class="admin-form">
      <div class="form-container">
        <!-- Form Header -->
        <div class="form-header">
          <h1>PENDAFTARAN ADMIN BARU</h1>
          <p>KEMENTERIAN BELIA DAN SUKAN SABAH</p>
        </div>

        <!-- Form Body -->
        <div class="form-body">
          <div class="form-note">
            <strong>Nota Penting:</strong>
            Sila isi semua maklumat yang diperlukan dengan lengkap dan tepat. Ruangan yang bertanda (*) adalah wajib diisi. Akaun yang didaftarkan akan secara automatik menjadi admin dengan status aktif.
          </div>

          <.simple_form :let={f} for={@changeset} action={~p"/senarai_admin"}>
            <.error :if={@changeset.action}>
              <div class="form-note" style="background: #fee2e2; border-color: #ef4444; color: #991b1b;">
                <strong>Ralat:</strong> Sila semak semula maklumat yang dimasukkan.
              </div>
            </.error>
            
            <!-- Personal Information Section -->
            <div class="form-section">
              <div class="section-header">A. MAKLUMAT PERIBADI</div>
              <div class="section-content">
                <div class="form-row">
                  <div class="form-group">
                    <.input field={f[:full_name]} type="text" label="Nama Penuh" class="form-input" />
                  </div>
                </div>
                <div class="form-group">
                  <.input field={f[:email]} type="email" label="Emel" class="form-input" />
                </div>
              </div>
            </div>

            <!-- Account Information Section -->
            <div class="form-section">
              <div class="section-header">B. MAKLUMAT AKAUN</div>
              <div class="section-content">
                <div class="form-row">
                  <div class="form-group">
                    <.input field={f[:password]} type="password" label="Kata Laluan" class="form-input" />
                  </div>
                  <div class="form-group">
                    <.input field={f[:password_confirmation]} type="password" label="Sahkan Kata Laluan" class="form-input" />
                  </div>
                </div>
              </div>
            </div>

                         <!-- Location Information Section -->
             <div class="form-section">
               <div class="section-header">C. MAKLUMAT LOKASI</div>
               <div class="section-content">
                 <div class="form-group">
                   <.input field={f[:daerah]} type="text" label="Daerah" class="form-input" />
                 </div>
               </div>
             </div>

             <!-- Additional Information Section -->
             <div class="form-section">
               <div class="section-header">D. MAKLUMAT TAMBAHAN</div>
               <div class="section-content">
                 <div class="form-row">
                   <div class="form-group">
                     <label class="form-label">Jawatan</label>
                     <input type="text" name="user[jawatan]" class="form-input" />
                   </div>
                   <div class="form-group">
                     <label class="form-label">Unit/Bahagian</label>
                     <input type="text" name="user[unit_bahagian]" class="form-input" />
                   </div>
                 </div>
               </div>
             </div>

             <!-- Form Actions -->
             <div class="form-actions">
               <.link href={~p"/senarai_admin"}>
                 <button type="button" class="btn-secondary">Kembali</button>
               </.link>
               <.button class="btn-primary">Daftar Admin Baru</.button>
             </div>
          </.simple_form>
        </div>
      </div>
    </div>
</.admin_layout>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // Get all dropdown toggles
  const dropdownToggles = document.querySelectorAll('.dropdown-toggle');
  
  // Add click event listener to each dropdown toggle
  dropdownToggles.forEach(toggle => {
    toggle.addEventListener('click', function(e) {
      e.preventDefault();
      
      // Get the dropdown menu ID from data attribute
      const dropdownId = this.getAttribute('data-dropdown');
      const dropdownMenu = document.getElementById(dropdownId);
      
      // Toggle active class on the toggle button
      this.classList.toggle('active');
      
      // Toggle show class on the dropdown menu
      dropdownMenu.classList.toggle('show');
    });
  });

  // Hamburger menu toggle functionality
  const menuToggle = document.getElementById('menu-toggle');
  const sidebar = document.querySelector('.sidebar');
  const mainContent = document.querySelector('.main-content');
  
  menuToggle.addEventListener('click', function() {
    sidebar.classList.toggle('hidden');
    mainContent.classList.toggle('sidebar-hidden');
  });
});
</script>
</body>
</html> 